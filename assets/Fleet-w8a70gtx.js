import{c as E,u as M,a as A,r as n,e as B,j as e}from"./index-vmAuPSp_.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=E("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=E("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$=()=>{var C;M();const{showBookingBar:f}=A(),[r,R]=n.useState(0),[h,p]=n.useState(!1),[x,b]=n.useState(!1),[F,m]=n.useState(""),[S,u]=n.useState(0),[v,c]=n.useState(!1),o=n.useRef(null),{vehicles:t,loading:V,error:j,fetchVehicles:d}=B();n.useEffect(()=>{console.log("Fetching vehicles..."),d()},[d]),n.useEffect(()=>{console.log("Vehicles data:",t),t.length>0&&console.log("First vehicle:",t[0])},[t]),n.useEffect(()=>{t.length>0&&r<t.length&&(u(0),m(""),c(!1),setTimeout(()=>c(!0),50),N())},[r,t]);const N=()=>{if(!t.length||r>=t.length)return;const s=t[r].name||"Luxury Vehicle";u(0),m("");const l=setInterval(()=>{u(a=>a<s.length?(m(s.substring(0,a+1)),a+1):(clearInterval(l),a))},100);return()=>clearInterval(l)};n.useEffect(()=>{const s=new IntersectionObserver(l=>{const[a]=l;a.isIntersecting&&!h?(p(!0),c(!0),N()):!a.isIntersecting&&h&&(p(!1),c(!1))},{threshold:.25,rootMargin:"0px"});return o.current&&s.observe(o.current),()=>{o.current&&s.unobserve(o.current)}},[h]);const g=s=>{if(!t.length)return;const l=Math.max(0,Math.min(s,t.length-1));b(!0),c(!1),setTimeout(()=>{R(l),setTimeout(()=>{b(!1),c(!0)},300)},300)},w=()=>{if(!t.length)return;const s=r>=t.length-1?0:r+1;g(s)},y=()=>{if(!t.length)return;const s=r<=0?t.length-1:r-1;g(s)};if(V)return e.jsx("section",{id:"fleet",className:"py-20 overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-serif mb-16 text-white",children:"Our Fleet"}),e.jsx("div",{className:"flex justify-center items-center py-16",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-gold"})})]})});if(j)return e.jsx("section",{id:"fleet",className:"py-20 overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-serif mb-16 text-white",children:"Our Fleet"}),e.jsxs("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-6 max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-xl text-red-400 mb-2",children:"Unable to load vehicles"}),e.jsx("p",{className:"text-gray-400",children:j}),e.jsx("button",{onClick:()=>d(),className:"mt-4 bg-zinc-800 hover:bg-zinc-700 px-6 py-2 rounded inline-flex items-center",children:"Try Again"})]})]})});if(!t||t.length===0)return e.jsx("section",{id:"fleet",className:"py-20 overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-title text-center mb-16 text-white",children:"Our Fleet"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"p-2",children:[e.jsx("h3",{className:"text-3xl md:text-4xl font-heading text-white mb-1 min-h-[3rem]",children:"Mercedes S-Class"}),e.jsx("p",{className:"text-sm tracking-widest text-gray-300 mb-6 uppercase font-subheading",children:"CHAUFFEUR SERVICE IN BELGRADE 8 HRS, 150 KM"}),e.jsx("div",{className:"space-y-4 mb-8 font-body",children:["Luxury sedan with professional driver","Premium leather interior","Complimentary refreshments"].map((s,l)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 mt-1.5 rounded-full bg-gold flex-shrink-0"}),e.jsx("span",{className:"ml-3 text-gray-300",children:s})]},l))}),e.jsx("div",{className:"text-2xl text-gold font-subheading font-light mb-8",children:"Price from £350"}),e.jsxs("button",{onClick:f,className:"relative overflow-hidden inline-block bg-transparent border-2 border-gold/50 px-8 py-3 rounded text-lg uppercase tracking-wider group",children:[e.jsx("span",{className:"absolute inset-0 w-0 bg-gold transition-all duration-700 ease-out group-hover:w-full"}),e.jsx("span",{className:"relative z-10 text-gold/80 transition-colors duration-700 group-hover:text-black",children:"Book Now"})]})]})}),e.jsx("div",{className:"relative",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1622571893332-9e36cc0c2f99?auto=format&fit=crop&q=80&w=800",alt:"Mercedes S-Class",className:"w-full h-auto rounded-lg shadow-2xl"})})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("button",{onClick:()=>d(),className:"bg-zinc-800 hover:bg-zinc-700 px-6 py-2 rounded inline-flex items-center",children:"Refresh Fleet"})})]})});const k=Math.min(r,t.length-1),i=t[k],T=i.specs&&i.specs.length>0?i.specs:["Luxury vehicle","Professional chauffeur","Premium experience"],L=i.image||"https://images.unsplash.com/photo-1622571893332-9e36cc0c2f99?auto=format&fit=crop&q=80&w=800";return e.jsx("section",{id:"fleet",className:"py-20 overflow-hidden",ref:o,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-title text-center mb-16 text-white",children:"Our Fleet"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"relative opacity-100 order-1 lg:order-2",children:[e.jsx("div",{className:"w-full aspect-[4/3] flex items-center justify-center overflow-visible",children:e.jsx("img",{src:L,alt:i.name||"Luxury Vehicle",className:`object-contain w-full h-full z-10 ${x?"opacity-0":""}`,style:{transform:v?`translateX(${window.innerWidth>=1024?"-10px":"0"}) scale(${window.innerWidth>=1024?"1.25":"1.0"})`:"translateX(100%) scale(0.5)",opacity:v?1:0,transition:"transform 2.5s cubic-bezier(0.22, 1, 0.36, 1), opacity 2s cubic-bezier(0.22, 1, 0.36, 1)",transformOrigin:"center",position:"relative",willChange:"transform, opacity"},onError:s=>{s.currentTarget.src="https://images.unsplash.com/photo-1622571893332-9e36cc0c2f99?auto=format&fit=crop&q=80&w=800"}})}),e.jsxs("div",{className:"lg:hidden w-full flex justify-between items-center my-4",children:[e.jsx("button",{onClick:y,className:"z-20 w-12 h-12 flex items-center justify-center bg-black/70 hover:bg-gold/80 text-white rounded-full transition-all duration-300 shadow-lg","aria-label":"Previous vehicle",children:e.jsx(I,{size:24})}),e.jsx("button",{onClick:w,className:"z-20 w-12 h-12 flex items-center justify-center bg-black/70 hover:bg-gold/80 text-white rounded-full transition-all duration-300 shadow-lg","aria-label":"Next vehicle",children:e.jsx(z,{size:24})})]})]}),e.jsx("div",{className:"space-y-6 opacity-100 order-2 lg:order-1 mt-4 lg:mt-0",children:e.jsxs("div",{className:"p-2",children:[e.jsxs("h3",{className:"text-3xl md:text-4xl font-heading text-white mb-1 min-h-[3rem]",children:[F,e.jsx("span",{className:`inline-block h-6 w-0.5 bg-gold ml-1 ${S>=(((C=i.name)==null?void 0:C.length)||0)?"opacity-0":"animate-blink"}`})]}),e.jsx("p",{className:"text-sm tracking-widest text-gray-300 mb-6 uppercase font-subheading",children:"CHAUFFEUR SERVICE IN BELGRADE 8 HRS, 150 KM"}),e.jsx("div",{className:"space-y-4 mb-8",children:T.map((s,l)=>e.jsxs("div",{className:"flex items-start transition-all",style:{transitionDelay:`${l*150}ms`,opacity:x?0:1,transform:x?"translateX(-10px)":"translateX(0)",transition:"transform 0.5s ease-out, opacity 0.5s ease-out"},children:[e.jsx("div",{className:"w-2 h-2 mt-1.5 rounded-full bg-gold flex-shrink-0"}),e.jsx("span",{className:"ml-3 text-gray-300",children:s})]},l))}),e.jsxs("div",{className:"text-2xl text-gold font-subheading font-light mb-8",children:["Price from £",i.price||0]}),e.jsxs("button",{onClick:f,className:"relative overflow-hidden inline-block bg-transparent border-2 border-gold/50 px-8 py-3 rounded text-lg uppercase tracking-wider group",children:[e.jsx("span",{className:"absolute inset-0 w-0 bg-gold transition-all duration-700 ease-out group-hover:w-full"}),e.jsx("span",{className:"relative z-10 text-gold/80 transition-colors duration-700 group-hover:text-black",children:"Book Now"})]})]})})]}),e.jsxs("div",{className:"hidden lg:flex justify-between items-center mt-12 w-full",children:[e.jsx("button",{onClick:y,className:"z-20 w-14 h-14 flex items-center justify-center bg-black hover:bg-gold text-white rounded-full transition-all duration-300 shadow-lg border-2 border-gold","aria-label":"Previous vehicle",children:e.jsx(I,{size:28})}),e.jsx("button",{onClick:w,className:"z-20 w-14 h-14 flex items-center justify-center bg-black hover:bg-gold text-white rounded-full transition-all duration-300 shadow-lg border-2 border-gold","aria-label":"Next vehicle",children:e.jsx(z,{size:28})})]}),t.length>1&&e.jsx("div",{className:"flex justify-center items-center mt-12",children:e.jsx("div",{className:"flex space-x-2",children:t.map((s,l)=>e.jsx("button",{onClick:()=>g(l),className:`w-3 h-3 rounded-full transition duration-300 ${l===k?"bg-gold":"bg-zinc-700 hover:bg-zinc-500"}`,"aria-label":`Go to vehicle ${l+1}`},l))})})]})})};export{I as C,$ as F,z as a};
