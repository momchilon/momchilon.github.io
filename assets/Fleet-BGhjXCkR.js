import{c as R,u as A,a as B,r,e as P,j as e}from"./index-CcheJ_pD.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=R("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=R("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),O=()=>{var I;A();const{showBookingBar:p}=B(),[a,V]=r.useState(0),[x,b]=r.useState(!1),[m,v]=r.useState(!1),[F,u]=r.useState(""),[S,f]=r.useState(0),[j,o]=r.useState(!1),d=r.useRef(null),{vehicles:l,loading:T,error:N,fetchVehicles:h}=P(),n=l.filter(t=>t.category==="chauffeur"||t.type==="chauffeur"||t.tags&&t.tags.includes("chauffeur"));r.useEffect(()=>{console.log("Fetching vehicles..."),h()},[h]),r.useEffect(()=>{console.log("Vehicles data:",l),console.log("Chauffeur vehicles only:",n),n.length>0&&console.log("First chauffeur vehicle:",n[0])},[l,n]),r.useEffect(()=>{n.length>0&&a<n.length&&(f(0),u(""),o(!1),setTimeout(()=>o(!0),50),w())},[a,n]);const w=()=>{if(!n.length||a>=n.length)return;const t=n[a].name||"Luxury Vehicle";f(0),u("");const s=setInterval(()=>{f(c=>c<t.length?(u(t.substring(0,c+1)),c+1):(clearInterval(s),c))},100);return()=>clearInterval(s)};r.useEffect(()=>{const t=new IntersectionObserver(s=>{const[c]=s;c.isIntersecting&&!x?(b(!0),o(!0),w()):!c.isIntersecting&&x&&(b(!1),o(!1))},{threshold:.25,rootMargin:"0px"});return d.current&&t.observe(d.current),()=>{d.current&&t.unobserve(d.current)}},[x]);const g=t=>{if(!l.length)return;const s=Math.max(0,Math.min(t,l.length-1));v(!0),o(!1),setTimeout(()=>{V(s),setTimeout(()=>{v(!1),o(!0)},300)},300)},y=()=>{if(!l.length)return;const t=a>=l.length-1?0:a+1;g(t)},k=()=>{if(!l.length)return;const t=a<=0?l.length-1:a-1;g(t)};if(T)return e.jsx("section",{id:"fleet",className:"py-20 overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-serif mb-16 text-white",children:"Our Fleet"}),e.jsx("div",{className:"flex justify-center items-center py-16",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-gold"})})]})});if(N)return e.jsx("section",{id:"fleet",className:"py-20 overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-serif mb-16 text-white",children:"Our Fleet"}),e.jsxs("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-6 max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-xl text-red-400 mb-2",children:"Unable to load vehicles"}),e.jsx("p",{className:"text-gray-400",children:N}),e.jsx("button",{onClick:()=>h(),className:"mt-4 bg-zinc-800 hover:bg-zinc-700 px-6 py-2 rounded inline-flex items-center",children:"Try Again"})]})]})});if(!l||l.length===0)return e.jsx("section",{id:"fleet",className:"py-20 overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-title text-center mb-16 text-white",children:"Our Fleet"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"p-2",children:[e.jsx("h3",{className:"text-3xl md:text-4xl font-heading text-white mb-1 min-h-[3rem]",children:"Mercedes S-Class"}),e.jsx("p",{className:"text-sm tracking-widest text-gray-300 mb-6 uppercase font-subheading",children:"CHAUFFEUR SERVICE IN BELGRADE 8 HRS, 150 KM"}),e.jsx("div",{className:"space-y-4 mb-8 font-body",children:["Luxury sedan with professional driver","Premium leather interior","Complimentary refreshments"].map((t,s)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 mt-1.5 rounded-full bg-gold flex-shrink-0"}),e.jsx("span",{className:"ml-3 text-gray-300",children:t})]},s))}),e.jsx("div",{className:"text-2xl text-gold font-subheading font-light mb-8",children:"Price from £350"}),e.jsxs("button",{onClick:p,className:"relative overflow-hidden inline-block bg-transparent border-2 border-gold/50 px-8 py-3 rounded text-lg uppercase tracking-wider group",children:[e.jsx("span",{className:"absolute inset-0 w-0 bg-gold transition-all duration-700 ease-out group-hover:w-full"}),e.jsx("span",{className:"relative z-10 text-gold/80 transition-colors duration-700 group-hover:text-black",children:"Book Now"})]})]})}),e.jsx("div",{className:"relative",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1622571893332-9e36cc0c2f99?auto=format&fit=crop&q=80&w=800",alt:"Mercedes S-Class",className:"w-full h-auto rounded-lg shadow-2xl"})})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("button",{onClick:()=>h(),className:"bg-zinc-800 hover:bg-zinc-700 px-6 py-2 rounded inline-flex items-center",children:"Refresh Fleet"})})]})});const C=Math.min(a,l.length-1),i=l[C],L=i.specs&&i.specs.length>0?i.specs:["Luxury vehicle","Professional chauffeur","Premium experience"],M=i.image||"https://images.unsplash.com/photo-1622571893332-9e36cc0c2f99?auto=format&fit=crop&q=80&w=800";return e.jsx("section",{id:"fleet",className:"py-20 overflow-hidden",ref:d,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-title text-center mb-16 text-white",children:"Our Fleet"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"relative opacity-100 order-1 lg:order-2",children:[e.jsx("div",{className:"w-full aspect-[4/3] flex items-center justify-center overflow-visible",children:e.jsx("img",{src:M,alt:i.name||"Luxury Vehicle",className:`object-contain w-full h-full z-10 ${m?"opacity-0":""}`,style:{transform:j?`translateX(${window.innerWidth>=1024?"-10px":"0"}) scale(${window.innerWidth>=1024?"1.25":"1.0"})`:"translateX(100%) scale(0.5)",opacity:j?1:0,transition:"transform 2.5s cubic-bezier(0.22, 1, 0.36, 1), opacity 2s cubic-bezier(0.22, 1, 0.36, 1)",transformOrigin:"center",position:"relative",willChange:"transform, opacity"},onError:t=>{t.currentTarget.src="https://images.unsplash.com/photo-1622571893332-9e36cc0c2f99?auto=format&fit=crop&q=80&w=800"}})}),e.jsxs("div",{className:"lg:hidden w-full flex justify-between items-center my-4",children:[e.jsx("button",{onClick:k,className:"z-20 w-12 h-12 flex items-center justify-center bg-black/70 hover:bg-gold/80 text-white rounded-full transition-all duration-300 shadow-lg","aria-label":"Previous vehicle",children:e.jsx(z,{size:24})}),e.jsx("button",{onClick:y,className:"z-20 w-12 h-12 flex items-center justify-center bg-black/70 hover:bg-gold/80 text-white rounded-full transition-all duration-300 shadow-lg","aria-label":"Next vehicle",children:e.jsx(E,{size:24})})]})]}),e.jsx("div",{className:"space-y-6 opacity-100 order-2 lg:order-1 mt-4 lg:mt-0",children:e.jsxs("div",{className:"p-2",children:[e.jsxs("h3",{className:"text-3xl md:text-4xl font-heading text-white mb-1 min-h-[3rem]",children:[F,e.jsx("span",{className:`inline-block h-6 w-0.5 bg-gold ml-1 ${S>=(((I=i.name)==null?void 0:I.length)||0)?"opacity-0":"animate-blink"}`})]}),e.jsx("p",{className:"text-sm tracking-widest text-gray-300 mb-6 uppercase font-subheading",children:"CHAUFFEUR SERVICE IN BELGRADE 8 HRS, 150 KM"}),e.jsx("div",{className:"space-y-4 mb-8",children:L.map((t,s)=>e.jsxs("div",{className:"flex items-start transition-all",style:{transitionDelay:`${s*150}ms`,opacity:m?0:1,transform:m?"translateX(-10px)":"translateX(0)",transition:"transform 0.5s ease-out, opacity 0.5s ease-out"},children:[e.jsx("div",{className:"w-2 h-2 mt-1.5 rounded-full bg-gold flex-shrink-0"}),e.jsx("span",{className:"ml-3 text-gray-300",children:t})]},s))}),e.jsxs("div",{className:"text-2xl text-gold font-subheading font-light mb-8",children:["Price from £",i.price||0]}),e.jsxs("button",{onClick:p,className:"relative overflow-hidden inline-block bg-transparent border-2 border-gold/50 px-8 py-3 rounded text-lg uppercase tracking-wider group",children:[e.jsx("span",{className:"absolute inset-0 w-0 bg-gold transition-all duration-700 ease-out group-hover:w-full"}),e.jsx("span",{className:"relative z-10 text-gold/80 transition-colors duration-700 group-hover:text-black",children:"Book Now"})]})]})})]}),e.jsxs("div",{className:"hidden lg:flex justify-between items-center mt-12 w-full",children:[e.jsx("button",{onClick:k,className:"z-20 w-14 h-14 flex items-center justify-center bg-black hover:bg-gold text-white rounded-full transition-all duration-300 shadow-lg border-2 border-gold","aria-label":"Previous vehicle",children:e.jsx(z,{size:28})}),e.jsx("button",{onClick:y,className:"z-20 w-14 h-14 flex items-center justify-center bg-black hover:bg-gold text-white rounded-full transition-all duration-300 shadow-lg border-2 border-gold","aria-label":"Next vehicle",children:e.jsx(E,{size:28})})]}),l.length>1&&e.jsx("div",{className:"flex justify-center items-center mt-12",children:e.jsx("div",{className:"flex space-x-2",children:l.map((t,s)=>e.jsx("button",{onClick:()=>g(s),className:`w-3 h-3 rounded-full transition duration-300 ${s===C?"bg-gold":"bg-zinc-700 hover:bg-zinc-500"}`,"aria-label":`Go to vehicle ${s+1}`},s))})})]})})};export{z as C,O as F,E as a};
