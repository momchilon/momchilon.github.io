import{r,f as y,j as e,N as v,L as N}from"./index-vmAuPSp_.js";import{u as g}from"./auth-CMCsgllT.js";const E=()=>{const[c,p]=r.useState(""),[m,h]=r.useState(""),[u,a]=r.useState(""),[n,x]=r.useState(!1),{signIn:f,user:i,profile:t,isLoading:o,error:l,loadProfile:b}=g();y(),r.useEffect(()=>{l&&a(l)},[l]);const j=async s=>{s.preventDefault(),a(""),x(!0);try{await f(c,m),await b()}catch(d){console.error("Login error:",d),a(d instanceof Error?d.message:"Invalid email or password")}finally{x(!1)}};if(i&&t&&["admin","manager"].includes(t.role))return e.jsx(v,{to:"/admin",replace:!0});if(i&&t&&!["admin","manager"].includes(t.role)){const s=i.email==="danteovtata@gmail.com";return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-md w-full space-y-8 bg-zinc-900 p-8 rounded-lg border border-zinc-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-serif",children:"Access Denied"}),s?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mt-2 text-gray-400",children:"You need to set up your admin privileges."}),e.jsx(N,{to:"/setup-admin",className:"mt-6 inline-block bg-gold text-black px-6 py-2 rounded-md text-sm font-medium hover:bg-gold/90",children:"Setup Admin Access"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mt-2 text-gray-400",children:"You don't have permission to access the admin area."}),e.jsx("button",{onClick:()=>g.getState().signOut(),className:"mt-6 bg-zinc-800 text-white px-4 py-2 rounded-md text-sm hover:bg-zinc-700",children:"Sign Out"})]})]})})})}return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-zinc-900 p-8 rounded-lg border border-zinc-800",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-serif text-center",children:"Admin Login"}),e.jsx("p",{className:"mt-2 text-center text-gray-400",children:"Sign in to access the admin dashboard"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:j,children:[u&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-3 rounded text-sm text-center",children:u}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),e.jsx("input",{id:"email",type:"email",value:c,onChange:s=>p(s.target.value),required:!0,className:"mt-1 block w-full bg-zinc-800 border border-zinc-700 rounded-md px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-gold",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:m,onChange:s=>h(s.target.value),required:!0,className:"mt-1 block w-full bg-zinc-800 border border-zinc-700 rounded-md px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-gold",placeholder:"Enter your password"})]})]}),e.jsx("button",{type:"submit",disabled:n||o,className:`w-full bg-gold text-black px-4 py-2 rounded-md text-sm font-medium hover:bg-gold/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold transition-colors
              ${n||o?"opacity-50 cursor-not-allowed":""}`,children:n||o?"Signing in...":"Sign in"})]})]})})};export{E as default};
